@model Trackii.Models.Admin.User.UserEditVm
@{
    var roles = ViewBag.Roles as List<(uint Id, string Name)>;
}

<h2>Editar Usuario</h2>

<form method="post">
    @Html.AntiForgeryToken()
    <input type="hidden" asp-for="Id" />

    <label>Usuario</label><br />
    <input asp-for="Username" />
    <span asp-validation-for="Username"></span><br /><br />

    <label>Rol</label><br />
    <select asp-for="RoleId">
        @foreach (var r in roles!)
        {
            if (r.Id == Model.RoleId)
            {
                <option value="@r.Id" selected>@r.Name</option>
            }
            else
            {
                <option value="@r.Id">@r.Name</option>
            }
        }
    </select>

    <span asp-validation-for="RoleId"></span><br /><br />

    <label>Activo</label><br />
    <input asp-for="Active" type="checkbox" /><br /><br />

    <label>Nueva contraseña (opcional)</label><br />
    <input asp-for="NewPassword" type="password" />
    <span asp-validation-for="NewPassword"></span><br /><br />

    <button type="submit">Guardar</button>
</form>
